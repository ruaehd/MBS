<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Admin">
	<select id="noticeList" parameterType="com.mbs.mvc.vo.NoticeVO" resultType="com.mbs.mvc.vo.NoticeVO">
		SELECT * FROM `notice` 
		<if test="ntc_sc_type == 'all'">
		WHERE ntc_title LIKE CONCAT('%', #{ntc_sc_text}, '%') OR ntc_content LIKE CONCAT('%', #{ntc_sc_text}, '%') 
		</if>  
		<if test="ntc_sc_type != 'all'">
		WHERE ${ntc_sc_type} LIKE CONCAT('%', #{ntc_sc_text}, '%') 
		</if>
		ORDER BY ntc_no DESC LIMIT #{ntc_page}, 10
	</select>
	
	<select id="noticePage" parameterType="com.mbs.mvc.vo.NoticeVO" resultType="int">
		SELECT COUNT(*) FROM `notice` 
		<if test="ntc_sc_type == 'all'">
		WHERE ntc_title LIKE CONCAT('%', #{ntc_sc_text}, '%') OR ntc_content LIKE CONCAT('%', #{ntc_sc_text}, '%') 
		</if>  
		<if test="ntc_sc_type != 'all'">
		WHERE ${ntc_sc_type} LIKE CONCAT('%', #{ntc_sc_text}, '%') 
		</if>
	</select>
</mapper>